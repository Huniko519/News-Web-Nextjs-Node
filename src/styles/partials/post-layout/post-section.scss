/* stylelint-disable max-nesting-depth */
.inews__post-section {
  margin-bottom: 1rem;

  &__leaderboard-ad {
    display: flex;
    justify-content: center;

    .inews__advert {
      display: none;
      align-items: center;
      justify-content: center;

      &.lg,
      &.xl {
        @media (--desktop-and-up) {
          display: flex;
        }
      }

      &.md {
        @media (--tablet-only) {
          display: flex;
        }
      }
    }
  }

  &__body {
    display: grid;
    grid-gap: 1rem;
    grid-template-columns: repeat(1, 1fr);
    @media (--tablet-and-up) {
      grid-template-columns: repeat(2, 1fr);
    }
    @media (--desktop-and-up) {
      grid-template-columns: repeat(3, 1fr);
    }
  }

  &__title {
    margin-top: 2rem;

    h2 {
      position: relative;
      width: 100vw;
      margin-bottom: 1.2rem;
      font-size: 1.2rem;
      border-bottom: 10px solid;

      &[data-text='iWeekend'] {
        span {
          top: -0.95rem;
          color: rgba(0, 0, 0, 0);
          font-size: 2rem;
          background-image: url('/static/images/logo/iweekend-logo.png');
          background-repeat: no-repeat;
          background-position: center center;
          background-size: contain;
          @media (--tablet-and-up) {
            top: 0;
          }
        }
      }

      > a,
      > span {
        position: absolute;
        top: -0.3rem;
        display: inline-block;
        margin-bottom: 5px;
        margin-left: $full-width-inset-to-main-mobile;
        padding: 0 4px;
        background: $white;
      }
    }

    @media (--tablet-and-up) {
      h2 {
        margin-bottom: 1rem;
        margin-left: $full-width-offset-from-main-mobile;
        font-size: 1.3rem;

        > a,
        > span {
          position: relative;
          top: 0;
          padding: 0;
        }
      }
    }

    @media (min-width: 1000px) {
      h2 {
        margin-left: $full-width-offset-from-main-desktop;

        > a,
        > span {
          margin-left: $full-width-inset-to-main-desktop;
        }
      }
    }

    @media (--desktop-and-up) {
      h2 {
        font-size: 1.5rem;
      }
    }

    h2,
    h2 > a,
    h2 > a:hover,
    h2 > a:focus,
    h2 > a:visited,
    h2 > a:active {
      color: var(--inews-color-primary, #{$red});
    }
  }

  &[data-type='PostSection1xBanner4xJot'] {
    .inews__post-section__body {
      @media (--tablet-and-up) {
        > div:first-child {
          grid-row: 1/4;
          grid-column: 1/-1;

          > div:last-child {
            grid-column: 1/-1;
          }
        }
      }
      @media (--desktop-and-up) {
        grid-template-columns: repeat(4, 1fr);

        > div:first-child {
          display: grid;
          grid-gap: 1rem;
          grid-template-columns: repeat(3, 1fr);
        }
      }
    }
  }

  &[data-type='PostSection1xHeroBox4xTeaser'] {
    .inews__post-section__body {
      @media (--tablet-and-up) {
        grid-gap: 1rem;
        grid-template-columns: repeat(2, 1fr);

        > div:first-child {
          display: grid;
          grid-gap: 2rem;
          grid-column: 1 / -1;
          grid-template-columns: 0.6fr 0.4fr;
          padding: 1rem;
          border: 1px solid var(--inews-color-primary);
        }
      }
      @media (--desktop-and-up) {
        grid-template-columns: repeat(4, 1fr);
        
      }

      .inews__post-herobox {
        box-sizing: border-box;
        margin: 0 0.5rem;
        padding: 0.5rem;
        border: 1px solid var(--inews-color-primary);

        @media (--tablet-and-up) {
          margin: 0;
          padding: 1rem;
        }

        &__content {
          padding: 0;

          h2 {
            margin-bottom: 1rem;
          }
        }
      }
    }
  }

  &[data-type='PostSection1xHeroBox4xTeaser4xJot'] {
    .inews__post-section__body {
      @media (--tablet-and-up) {
        grid-gap: 1rem;
        grid-template-columns: repeat(2, 1fr);

        > div:first-child {
          display: grid;
          grid-gap: 2rem;
          grid-column: 1 / -1;
          grid-template-columns: 1fr 1fr;
        }
      }
      @media (--desktop-and-up) {
        grid-template-columns: repeat(4, 1fr);
        
        > div:first-child {
          grid-template-columns: 0.6fr 0.4fr;
          padding: 1rem;
          border: 1px solid var(--inews-color-primary);
        }
      }

      .inews__post-herobox {
        box-sizing: border-box;
        margin: 0 0.5rem;
        padding: 0.5rem;
        border: 1px solid var(--inews-color-primary);

        @media (--tablet-and-up) {
          margin: 0;
          padding: 1rem;
        }

        &__content {
          padding: 0;
        }

        .hidden {
          display: none;
          @media (--tablet-and-up) {
            display: block;
          }
        }
      }
    }
  }

  &[data-type='PostSection2xHero4xTeaser'] {
    .inews__post-section__body {
      @media (--tablet-and-up) {
        grid-row: 2/3;
        grid-template-columns: repeat(4, 1fr);

        > div:first-child {
          grid-row: 1/2;
          grid-column: 1/3;
        }

        > div:nth-child(2) {
          grid-row: 1/2;
          grid-column: 3/5;
        }
      }
      @media (--desktop-and-up) {
        grid-row: 2/3;
        grid-template-columns: repeat(4, 1fr);

        > div:first-child {
          grid-row: 1/2;
          grid-column: 1/3;
        }

        > div:nth-child(2) {
          grid-row: 1/2;
          grid-column: 3/5;
        }
      }
    }
  }

  &[data-type='PostSection1xPortrait1xHeroWording2xJot'] {
    .inews__post-section__body {
      padding-bottom: 1rem;
      background-color: var(--inews-color-secondary, #{$taupe});

      .inews__post__badge {
        margin-top: 0.4rem;
      }

      @media (--tablet-and-up) {
        grid-column: 4/5;
        grid-template-columns: repeat(4, 1fr);
        padding-right: 1rem;
        padding-bottom: 0;

        > div:first-child {
          grid-row: 1/3;
          grid-column: 1/2;
        }

        > div:nth-child(2) {
          grid-row: 1/3;
          grid-column: 2/4;
        }

        > div:last-child {
          padding-bottom: 1rem;
        }
      }
    }
  }

  &[data-type='PostSection1xPortrait3xJot'] {
    .inews__post-section__body {
      grid-gap: 0;
      border-bottom: 0.625rem solid var(--inews-color-primary, #{$taupe});

      @media (--mobile-only) {
        > div:first-child {
          grid-row: 1/4;
          grid-column: 1/2;
        }

        > div:nth-child(2),
        > div:nth-child(3),
        > div:nth-child(4) {
          grid-column: 2/4;
          padding: 0.625rem 0;
          background-color: transparent;
        }

        > div:last-child {
          padding-bottom: 1rem;
        }
      }

      @media (--tablet-and-up) {
        grid-gap: 1rem;
        grid-template-columns: repeat(4, 1fr);

        > div {
          grid-row: 1/4;
        }

        > div:nth-child(2),
        > div:nth-child(3),
        > div:nth-child(4) {
          margin-bottom: 1rem;
          padding: 0.625rem;
        }
      }

      .inews__post-jot {
        background-color: var(--inews-color-secondary, #{$taupe});

        &.opinion .inews__post__badge a {
          text-align: left;
        }

        &__content-headline {
          .icon_qoute.small {
            svg {
              width: 3.125rem;
              height: 3.125rem;
            }
          }

          h2 {
            font-size: 1.1rem;
            line-height: 1.58rem;
          }
        }

        > div:last-child {
          padding-bottom: 1rem;
        }
      }

      .inews__post-portrait {
        display: block;
        text-align: center;
        background-color: var(--inews-color-primary, #{$taupe});

        .inews__post-portrait__author {
          display: block;
          padding: 1rem 0;

          @media (--mobile-only) {
            padding: 0.3rem 0;
          }
        }

        &.show-author [class$='__media'] {
          amp-img {
            clip-path: none;
          }

          &:first-child {
            padding: 0;
          }

          @media (--tablet-and-up) {
            amp-img {
              max-width: 100%;
              max-height: 100%;
              clip-path: none;
            }
          }
        }
      }
    }
  }

  &[data-type='PostSection1xInvertedHero1xStoryPanel3xJot'] {
    .inews__post-section__body {
      grid-row: 3/6;

      > div:first-child {
        grid-row: 1/2;
      }

      > div:nth-child(5) {
        grid-row: 2/3;
      }

      @media (--tablet-and-up) {
        grid-row: 5/6;
        grid-column: 1/4;
        grid-template-columns: repeat(4, 1fr);

        > div:first-child {
          grid-row: 1/5;
          grid-column: 1/4;
        }

        > div:nth-child(5) {
          grid-row: 1/6;
          grid-column: 4/5;
        }
      }
    }
  }

  &[data-type='PostSectionLayout'] {
    .inews__post-section__body {
      @media (--tablet-and-up) {
        grid-column: 4/5;
        grid-template-columns: repeat(4, 1fr);

        > div:first-child {
          grid-row: 1/4;
          grid-column: 1/4;
        }
      }
    }
  }

  &[data-type='PostSection1xSuperhero2xJot1xTeaser4xJot'] {
    .inews__post-section__body {
      @media (--tablet-and-up) {
        > div:first-child {
          grid-row: 1/4;
        }
      }
      @media (--desktop-and-up) {
        grid-template-columns: repeat(4, 1fr);

        > div:first-child {
          display: grid;
          grid-gap: 1rem;
          grid-column: 1/4;
          grid-template-columns: repeat(3, 1fr);

          > div:last-child {
            grid-column: 2/4;
          }
        }
      }
    }
  }

  &[data-type='PostSection1xHero2xJot1xPuff2xJot'] {
    .inews__post-section__body {
      @media (--tablet-and-up) {
        > div:first-child {
          grid-row: 1/5;
          grid-column: 1/2;
        }

        > div:nth-child(4) {
          grid-row: 5;
          grid-column: 1/3;
        }
      }
      @media (--desktop-and-up) {
        grid-template-rows: 1fr 155px 1fr;
        grid-template-columns: repeat(4, 1fr);

        > div:first-child {
          grid-row: 1/4;
          grid-column: 1/3;
        }

        > div:nth-child(4) {
          grid-row: auto;
          grid-column: 3/5;
        }
      }
    }
  }

  &[data-type='PostSection4xTeaser'] {
    .inews__post-section__body {
      @media (--tablet-and-up) {
        grid-template-columns: repeat(2, 1fr);
      }
      @media (--desktop-and-up) {
        grid-template-columns: repeat(4, 1fr);
      }
    }
  }

  &[data-type='PostSection6xPuff1xMpu'],
  &[data-type='PostSection1xTeaser3xJot1xMpu'] {
    .inews__post-section__body {
      @media (--tablet-and-up) {
        > div:last-child {
          grid-row: 1/5;
          grid-column: 2;
        }
      }
    }
  }

  &[data-type='PostSection6xPuff1xMpu'] {
    .inews__post-section__body {
      @media (--desktop-and-up) {
        > div:last-child {
          grid-row: 1/4;
          grid-column: 3;
        }
      }
    }
  }

  &[data-type='PostSection1xTeaser3xJot1xMpu'] {
    .inews__post-section__body {
      @media (--desktop-and-up) {
        > div:nth-child(1) {
          flex-direction: column;
          grid-row: 1/4;
          grid-column: 1;
        }

        > div:last-child {
          grid-row: 1/4;
          grid-column: 3;
        }
      }
    }
  }

  &[data-type='PostSection1xTeaser1xJot1xHero1xTeaser1xJot'] {
    .inews__post-section__body {
      @media (--tablet-and-up) {
        > div:nth-child(2) {
          grid-row: 1/2;
          grid-column: 2;
        }

        > div:nth-child(3) {
          grid-row: 1/3;
        }

        > div:nth-child(5) {
          grid-row: 2/3;
          grid-column: 2;
        }
      }

      @media (--desktop-and-up) {
        grid-template-columns: repeat(4, 1fr);

        > div:nth-child(3) {
          grid-row: 1/4;
          grid-column: 2/4;
        }

        > div:nth-child(1),
        > div:nth-child(4) {
          grid-row: 1/3;
        }

        > div:nth-child(2),
        > div:nth-child(5) {
          grid-row: 3/4;
          grid-column: 1;
        }

        > div:nth-child(5) {
          grid-column: 4;
        }
      }
    }
  }

  &[data-type='PostSection2xTeaser1xHero2xJot1xTeaser2xJot'] {
    .inews__post-section__body {
      @media (--tablet-and-up) {
        > div:nth-child(3) {
          grid-row: 2/4;
        }

        > div:nth-child(6) {
          grid-row: 4/6;
        }
      }

      @media (--desktop-and-up) {
        grid-template-columns: repeat(4, 1fr);

        > div:nth-child(1) {
          grid-row: 1/3;
        }

        > div:nth-child(2) {
          grid-row: 3/5;
        }

        > div:nth-child(3) {
          grid-row: 1/4;
          grid-column: 2/4;
        }

        > div:nth-child(6) {
          grid-row: 1/3;
          grid-column: 4;
        }
      }
    }
  }

  &[data-type='PostSection1xJot1xHero2xJot2xTeaser1xPuff2xJot1xPuff5xJot'] {
    .inews__post-section__body {
      @media (--tablet-and-up) {
        > div:nth-child(2) {
          grid-row: 2/4;
        }

        > div:nth-child(6) {
          grid-row: 4/7;
        }

        > div:nth-child(8) {
          grid-row: 4;
        }

        > div:nth-child(9) {
          grid-row: 5;
        }

        > div:nth-child(11) {
          grid-row: 6;
        }
      }

      @media (--desktop-and-up) {
        grid-template-columns: repeat(4, 1fr);

        > div:nth-child(2) {
          grid-row: 1/4;
          grid-column: 2/4;
        }

        > div:nth-child(5) {
          grid-row: 2/4;
          grid-column: 4;
        }

        > div:nth-child(6) {
          grid-row: 3/5;
        }

        > div:nth-child(7) {
          grid-column: 2/4;
        }

        > div:nth-child(10) {
          grid-column: 2/4;
        }

        > div:nth-child(8),
        > div:nth-child(9),
        > div:nth-child(11) {
          grid-row: auto;
        }
      }
    }
  }

  &[data-type='PostSectionColumnists1xPodium2xTeaser1xPuff2xJot'] {
    .inews__post-section__body {
      @media (--tablet-and-up) {
        > div:nth-child(1) {
          grid-row: 1/2;
          grid-column: 1/3;
        }

        > div:nth-child(4) {
          grid-column: 1/3;
        }
      }

      @media (--desktop-and-up) {
        grid-template-columns: repeat(4, 1fr);

        > div:nth-child(1) {
          grid-row: 1/4;
          grid-column: 1/3;
        }

        > div:nth-child(2),
        > div:nth-child(3) {
          grid-row: 1/4;
        }

        > div:nth-child(4) {
          grid-column: 1/3;
        }
      }
    }
  }

  &[data-type='PostSection1xHero2xTeaser2xJot'] {
    .inews__post-section__body {
      @media (--tablet-and-up) {
        > div:nth-child(1) {
          grid-row: 1/4;
          grid-column: 1/3;
        }
      }

      @media (--desktop-and-up) {
        grid-template-columns: repeat(4, 1fr);

        > div:nth-child(1) {
          grid-column: 1/3;
        }

        > div:nth-child(2),
        > div:nth-child(3) {
          grid-row: 1/3;
        }

        > div:nth-child(4) {
          grid-column: 3/3;
        }
      }
    }
  }

  &[data-type='PostSection2xTeaser2xJot1xHero'] {
    .inews__post-section__body {
      > div:nth-child(5) {
        grid-row: 1/4;
      }

      @media (--tablet-and-up) {
        > div:nth-child(5) {
          grid-column: 1/3;
        }
      }

      @media (--desktop-and-up) {
        grid-template-columns: repeat(4, 1fr);

        > div:nth-child(1),
        > div:nth-child(2) {
          grid-row: 1/2;
        }

        > div:nth-child(3) {
          grid-column: 1/2;
        }

        > div:nth-child(4) {
          grid-column: 2/3;
        }

        > div:nth-child(5) {
          grid-row: 1/3;
          grid-column: 3/5;
        }
      }
    }
  }
}

.inews__post-section:first-child {
  .inews__post-section__title {
    h2 {
      margin-top: 0;
    }
  }
}



.inews__widget__popular_posts {
  .inews__post {
    margin-bottom: 1rem;
    counter-increment: css-counter 1;

    &::before {
      min-width: 2rem;
      margin-top: 4px;
      padding: 0 0.6rem;
      color: $red;
      font-weight: bold;
      font-size: 2rem;
      font-family: $serif-headline;
      white-space: nowrap;
      text-align: center;
      content: counter(css-counter);
    }
  }

  .inews__post-puff {
    padding-right: 1rem;
    background-color: transparent;
  }

  .inews__post-puff__media {
    display: none;
  }
}

@media (--desktop-and-up) {
  .inews__widget__popular_posts {
    .inews__widget__popular_posts__list {
      grid-template-columns: 50% 50%;
      column-count: 2;
      column-gap: 1rem;
    }

    .inews__post-puff__media {
      display: inherit;
    }

    .inews__post-puff {
      padding-right: 0;
      background-color: var(--inews-color-secondary, #f7f3ef);
    }
  }
}

.inews__widget__puzzles.puzzle-wrapper {
  padding: 0;
}

.inews__widget__puzzles {
  .inews__post-section__title {

    .inews__widget__puzzles__title {
      margin-top: 0;
      color: $mint;

      a {
        color: $mint;
      }
    }
  }
}
